{% extends 'Gamers/base/base_template.html' %}

{% load staticfiles %}

{% block css %}
<link href="{% static "starrating/css/star-rating.css" %}" rel="stylesheet">
{% endblock %}

{% block js %}
<script src="{% static "starrating/js/star-rating.js" %}"></script>
{% endblock %}

{% block content %}
<div class="container">
    <div class="game">
        <img src="{{ screenshot }}">
        <div class="rate">
            <input type="number" class="rating"
                data-min="0" data-max="10" data-step="1"
                data-show-clear="false" data-show-caption="false"
                value="{{ rating }}" data-size="xs">
        </div>
        <div class="release_date">
            Release_date: {{ game.release_date }}
        </div>
        <div class="homepage">
            Homepage: <a href="{{ game.homepage }}" target="_blank">{{ game.homepage }}</a>
        </div>
        <div class="developer">
            Developer:
			{% for item in game.developers.all %}
			{{ item }}
			{% endfor %}
        </div>
        <div class="publisher">
            Publisher:
			{% for item in game.publishers.all %}
			{{ item }}
			{% endfor %}
        </div>
        <div class="platform">
            Platform:
			{% for item in game.platforms.all %}
			{{ item }}
			{% endfor %}
        </div>
        <div class="genre">
            Genre:
			{% for item in game.genres.all %}
			{{ item }}
			{% endfor %}
        </div>
    </div>
    <div class="my_review">
        <form action="" method="POST">
            {% csrf_token %}
            {{ review_form.as_p }}
            <button type="submit">저장</button>
        </form>
    </div>
    <div class="review_list">
        <h1>리뷰</h1>
        {% for item in review_list %}
            <div class="review">
                <h3>{{ item.user }}</h3>
                <input type="number" class="rating" 
				    data-min="0" data-max="10" data-step="1"
				    data-show-clear='false' data-show-caption='false'
				    value="{{ item.score }}" data-size='xs'>
                <p>{{ item.content }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<script>
    $('.rating').rating({displayOnly:true});
    $('.input_rating').rating();
</script>
{% endblock %}